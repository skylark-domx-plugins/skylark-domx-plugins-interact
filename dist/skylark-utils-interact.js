/**
 * skylark-utils-interact - The interact features enhancement for skylark utils.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(t,e){function r(t,e){if("."!==t[0])return t;var r=e.split("/"),n=t.split("/");r.pop();for(var i=0;i<n.length;i++)"."!=n[i]&&(".."==n[i]?r.pop():r.push(n[i]));return r.join("/")}var n=e.define,i=e.require,o="function"==typeof n&&n.amd,a=!o&&"undefined"!=typeof exports;if(!o&&!n){var s={};n=e.define=function(t,e,n){"function"==typeof n?(s[t]={factory:n,deps:e.map(function(e){return r(e,t)}),exports:null},i(t)):s[t]=n},i=e.require=function(t){if(!s.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var e=s[t];if(!e.exports){var r=[];e.deps.forEach(function(t){r.push(i(t))}),e.exports=e.factory.apply(window,r)}return e.exports}}if(!n)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(t(n,i),!o){var l=i("skylark-langx/skylark");a?exports=l:e.skylarkjs=l}}(function(t,e){t("skylark-utils-interact/interact",["skylark-utils/skylark","skylark-utils/langx"],function(t,e){var r=t.interact={};return r}),t("skylark-utils-interact/mover",["./interact","skylark-utils/langx","skylark-utils/noder","skylark-utils/datax","skylark-utils/geom","skylark-utils/eventer","skylark-utils/styler"],function(t,e,r,n,i,o,a){function s(t,e){function n(t){var e,r;if(t.changedTouches)for(e="screenX screenY pageX pageY clientX clientY".split(" "),r=0;r<e.length;r++)t[e[r]]=t.changedTouches[0][e[r]]}e=e||{};var s,l,u,c,d,f,h,p,k=e.handle||t,m=e.auto!==!1,y=e.constraints,g=e.document||document,v=e.started,x=e.moving,b=e.stopped,u=function(e){var u,m=i.getDocumentSize(g);n(e),e.preventDefault(),l=e.button,d=e.screenX,f=e.screenY,h=i.relativePosition(t),p=i.size(t),u=a.css(k,"curosr"),s=r.createElement("div"),a.css(s,{position:"absolute",top:0,left:0,width:m.width,height:m.height,zIndex:2147483647,opacity:1e-4,cursor:u}),r.append(g.body,s),o.on(g,"mousemove touchmove",w).on(g,"mouseup touchend",c),v&&v(e)},w=function(e){if(n(e),0!==e.button)return c(e);if(e.deltaX=e.screenX-d,e.deltaY=e.screenY-f,m){var r=h.left+e.deltaX,o=h.top+e.deltaY;y&&(r<y.minX&&(r=y.minX),r>y.maxX&&(r=y.maxX),o<y.minY&&(o=y.minY),o>y.maxY&&(o=y.maxY))}i.relativePosition(t,{left:r,top:o}),e.preventDefault(),x&&x(e)},c=function(t){n(t),o.off(g,"mousemove touchmove",w).off(g,"mouseup touchend",c),r.remove(s),b&&b(t)};return o.on(k,"mousedown touchstart",u),{remove:function(){o.off(k)}}}function l(){return l}o.on,o.off,n.attr,n.removeAttr,i.pagePosition,a.addClass,i.height,Array.prototype.some,Array.prototype.map;return e.mixin(l,{movable:s}),t.mover=l}),t("skylark-utils-interact/resizer",["./interact","skylark-utils/langx","skylark-utils/noder","skylark-utils/datax","skylark-utils/finder","skylark-utils/geom","skylark-utils/eventer","./mover","skylark-utils/styler","skylark-utils/query"],function(t,e,r,n,i,o,a,s,l,u){function c(t,r){var n={touchActionNone:!0,direction:{top:!1,left:!1,right:!0,bottom:!0},handle:{border:!0,grabber:"",selector:!0}};r=r||{};var l,u,c,d=r.handle||{},f=r.direction||n.direction,h=r.started,p=r.moving,k=r.stopped;return e.isString(d)?l=i.find(t,d):e.isHtmlNode(d)&&(l=d),s.movable(l,{auto:!1,started:function(e){u=o.size(t),h&&h(e)},moving:function(e){c={},f.left||f.right?c.width=u.width+e.deltaX:c.width=u.width,f.top||f.bottom?c.height=u.height+e.deltaY:c.height=u.height,o.size(t,c),p&&p(e)},stopped:function(t){k&&k(t)}}),{remove:function(){a.off(l)}}}function d(){return d}a.on,a.off,n.attr,n.removeAttr,o.pagePosition,l.addClass,o.height,Array.prototype.some,Array.prototype.map;return u.fn.resizable=function(t){this.each(function(e){c(this,t)})},e.mixin(d,{resizable:c}),t.resizer=d}),t("skylark-utils-interact/selector",["./interact","skylark-utils/langx","skylark-utils/noder","skylark-utils/datax","skylark-utils/geom","skylark-utils/eventer","./mover","skylark-utils/styler","skylark-utils/query"],function(t,e,r,n,i,o,a,s,l){function u(t){t=t||{},E=t.classPrefix||"";var e=t.appendTo||document.body;m=r.createElement("div",{"class":E+"resizer-c"}),r.append(e,m),y={},["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(t){return y[t]=r.createElement("i",{"class":E+"resizer-h "+E+"resizer-h-"+t,"data-resize-handler":t})});for(var n in y){var i=y[n];r.append(m,i),a.movable(i,{auto:!1,started:c,moving:d,stopped:f})}}function c(t){t.target;v=i.size(g),b&&b(t)}function d(t){x={},A.left||A.right?x.width=v.width+t.deltaX:x.width=v.width,A.top||A.bottom?x.height=v.height+t.deltaY:x.height=v.height,i.size(g,x),i.pageRect(m,i.pageRect(g)),w&&w(t)}function f(t){z&&z(t)}function h(t,e){t&&t===g||(g=t,startDim=rectDim=startPos=null,i.pageRect(m,i.pageRect(g)),s.show(m))}function p(t){m&&s.hide(m),g=null}function k(){return k}var m,y,g,v,x,b,w,z,E=(o.on,o.off,n.attr,n.removeAttr,i.pagePosition,s.addClass,i.height,Array.prototype.some,Array.prototype.map,""),A={left:!0,right:!0,top:!0,bottom:!0};return e.mixin(k,{init:u,select:h,unselect:p}),t.selector=k}),t("skylark-utils-interact/sorter",["./interact","skylark-langx/langx","skylark-utils/noder","skylark-utils/datax","skylark-utils/geom","skylark-utils/eventer","skylark-utils/styler","skylark-utils/dnd","skylark-utils/query","skylark-utils/widgets","./mover","./resizer"],function(t,e,r,n,i,o,a,s,l,u,c,d){function f(t,n){n=e.mixin({connectWith:!1,placeholder:null,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging",items:null},n);var i,o=l(t),a=o.children(n.items),u=l(n.placeholder||r.createElement(/^(ul|ol)$/i.test(t.tagName)?"li":"div",{"class":n.placeholderClass}));return s.draggable(t,{source:n.items,handle:n.handle,draggingClass:n.draggingClass,preparing:function(t){},started:function(t){t.ghost=t.dragSource,t.transfer={text:"dummy"},i=(p=l(t.dragSource)).index()},ended:function(t){p&&(p.show(),k.detach(),i!=p.index()&&p.parent().trigger("sortupdate",{item:p}),p=null)}}),s.droppable(t,{started:function(t){t.acceptable=!0,t.activeClass="active",t.hoverClass="over"},overing:function(t){a.is(t.overElm)?(n.forcePlaceholderSize&&u.height(p.outerHeight()),p.hide(),l(t.overElm)[u.index()<l(t.overElm).index()?"after":"before"](u),k.not(u).detach()):k.is(t.overElm)||l(t.overElm).children(n.items).length||(k.detach(),l(t.overElm).append(u))},dropped:function(t){k.filter(":visible").after(p),p.show(),k.detach(),p=null}}),o.data("items",n.items),k=k.add(u),n.connectWith&&l(n.connectWith).add(this).data("connectWith",n.connectWith),{remove:function(){}}}function h(){return h}var p,k=(o.on,o.off,n.attr,n.removeAttr,i.pagePosition,a.addClass,i.height,Array.prototype.some,Array.prototype.map,u.Widget.inherit({klassName:"Sorter",enable:function(){},disable:function(){},destory:function(){}}),l());return l.fn.sortable=function(t){return t=e.mixin({connectWith:!1},t),this.each(function(){f(this,t)})},e.mixin(h,{sortable:f}),t.sorter=h}),t("skylark-utils-interact/main",["skylark-utils/skylark","./mover","./resizer","./selector","./sorter"],function(t){return t}),t("skylark-utils-interact",["skylark-utils-interact/main"],function(t){return t})},this);
//# sourceMappingURL=sourcemaps/skylark-utils-interact.js.map
