/**
 * skylark-domx-interact - The interact features enhancement for dom.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-langx/langx","skylark-utils-dom/noder","skylark-utils-dom/datax","skylark-utils-dom/finder","skylark-utils-dom/geom","skylark-utils-dom/eventer","skylark-utils-dom/styler","skylark-utils-dom/plugins","./interact","./ddmanager"],function(r,e,a,t,n,s,o,i,d,g){s.on,s.off,a.attr,a.removeAttr,n.pagePosition,o.addClass,n.height;var l=i.Plugin.inherit({klassName:"Droppable",pluginName:"lark.droppable",options:{draggingClass:"dragging"},_construct:function(e,a){this.overrided(e,a);var t,n,i=this,d=((a=i.options).draggingClass,!0);["started","entered","leaved","dropped","overing"].forEach(function(e){r.isFunction(a[e])&&i.on(e,a[e])}),s.on(e,{dragover:function(r){if(r.stopPropagation(),d){var e=s.create("overing",{overElm:r.target,transfer:g.draggingTransfer,acceptable:!0});i.trigger(e),e.acceptable&&(r.preventDefault(),r.dataTransfer.dropEffect="copyMove")}},dragenter:function(r){i.options;var e=i._elm,a=s.create("entered",{transfer:g.draggingTransfer});i.trigger(a),r.stopPropagation(),t&&d&&o.addClass(e,t)},dragleave:function(r){i.options;var e=i._elm;if(!d)return!1;var a=s.create("leaved",{transfer:g.draggingTransfer});i.trigger(a),r.stopPropagation(),t&&d&&o.removeClass(e,t)},drop:function(r){i.options;var e=i._elm;if(s.stop(r),g.dragging){t&&d&&o.addClass(e,t);var a=s.create("dropped",{transfer:g.draggingTransfer});i.trigger(a),g.end(!0)}}}),g.on("dndStarted",function(r){var a=s.create("started",{transfer:g.draggingTransfer,acceptable:!1});i.trigger(a),d=a.acceptable,t=a.hoverClass,(n=a.activeClass)&&d&&o.addClass(e,n)}).on("dndEnded",function(r){var a=s.create("ended",{transfer:g.draggingTransfer,acceptable:!1});i.trigger(a),t&&d&&o.removeClass(e,t),n&&d&&o.removeClass(e,n),d=!1,n=null,t=null})}});return i.register(l,"droppable"),d.Droppable=l});
//# sourceMappingURL=sourcemaps/Droppable.js.map
