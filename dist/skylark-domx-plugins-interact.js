/**
 * skylark-domx-plugins-interact - The interact features enhancement for dom.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(e,t){var r=t.define,require=t.require,o="function"==typeof r&&r.amd,n=!o&&"undefined"!=typeof exports;if(!o&&!r){var i={};r=t.define=function(e,t,r){"function"==typeof r?(i[e]={factory:r,deps:t.map(function(t){return function(e,t){if("."!==e[0])return e;var r=t.split("/"),o=e.split("/");r.pop();for(var n=0;n<o.length;n++)"."!=o[n]&&(".."==o[n]?r.pop():r.push(o[n]));return r.join("/")}(t,e)}),resolved:!1,exports:null},require(e)):i[e]={factory:null,resolved:!0,exports:r}},require=t.require=function(e){if(!i.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var module=i[e];if(!module.resolved){var r=[];module.deps.forEach(function(e){r.push(require(e))}),module.exports=module.factory.apply(t,r)||null,module.resolved=!0}return module.exports}}if(!r)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(e,require){e("skylark-domx-plugins-interact/polyfill",[],function(){}),e("skylark-domx-plugins-interact/interact",["skylark-langx/skylark","./polyfill"],function(e){return e.attach("domx.interact",{})}),e("skylark-domx-plugins-interact/Movable",["skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-plugins","./interact"],function(e,t,r,o,n,i,a,s){n.on,n.off,r.attr,r.removeAttr,o.pagePosition,i.addClass,o.height,Array.prototype.some,Array.prototype.map;var l=a.Plugin.inherit({klassName:"Movable",pluginName:"lark.movable",_construct:function(e,r){function a(e){var t,r;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),r=0;r<t.length;r++)e[t[r]]=e.changedTouches[0][t[r]]}this.overrided(e,r);var s,l,d,u,c=(r=this.options).handle||e,p=!1!==r.auto,m=r.constraints,f=r.document||document,h=r.started,k=r.moving,y=r.stopped,g=function(t){if(a(t),0!==t.button)return v(t);if(t.deltaX=t.screenX-l,t.deltaY=t.screenY-d,p){var r=u.left+t.deltaX,n=u.top+t.deltaY;m&&(r<m.minX&&(r=m.minX),r>m.maxX&&(r=m.maxX),n<m.minY&&(n=m.minY),n>m.maxY&&(n=m.maxY))}o.relativePosition(e,{left:r,top:n}),t.preventDefault(),k&&k(t)},v=function(e){a(e),n.off(f,"mousemove touchmove",g).off(f,"mouseup touchend",v),t.remove(s),y&&y(e)};n.on(c,"mousedown touchstart",function(r){var p,m=o.getDocumentSize(f);a(r),r.preventDefault(),r.button,l=r.screenX,d=r.screenY,u=o.relativePosition(e),o.size(e),p=i.css(c,"curosr"),s=t.createElement("div"),i.css(s,{position:"absolute",top:0,left:0,width:m.width,height:m.height,zIndex:2147483647,opacity:1e-4,cursor:p}),t.append(f.body,s),n.on(f,"mousemove touchmove",g).on(f,"mouseup touchend",v),h&&h(r)}),this._handleEl=c},remove:function(){n.off(this._handleEl)}});return a.register(l,"movable"),s.Movable=l}),e("skylark-domx-plugins-interact/Resizable",["skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-finder","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-query","skylark-domx-plugins","./interact","./Movable"],function(e,t,r,o,n,i,a,s,l,d,u){i.on,i.off,r.attr,r.removeAttr,n.pagePosition,a.addClass,n.height,Array.prototype.some,Array.prototype.map;var c=l.Plugin.inherit({klassName:"Resizable",pluginName:"lark.resizable",options:{touchActionNone:!0,direction:{top:!1,left:!1,right:!0,bottom:!0},handle:{border:!0,grabber:"",selector:!0}},_construct:function(t,r){this.overrided(t,r);var i,a,s,l=(r=this.options).handle||{},d=r.direction,c=r.started,p=r.moving,m=r.stopped;e.isString(l)?i=o.find(t,l):e.isHtmlNode(l)&&(i=l),u(i,{auto:!1,started:function(e){a=n.size(t),c&&c(e)},moving:function(e){s={},d.left||d.right?s.width=a.width+e.deltaX:s.width=a.width,d.top||d.bottom?s.height=a.height+e.deltaY:s.height=a.height,n.size(t,s),p&&p(e)},stopped:function(e){m&&m(e)}}),this._handleEl=i},remove:function(){i.off(this._handleEl)}});return l.register(c,"resizable"),d.Resizable=c}),e("skylark-domx-plugins-interact/Selectable",["skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-query","./interact","./Movable"],function(e,t,r,o,n,i,a,s,l){n.on,n.off,r.attr,r.removeAttr,o.pagePosition,i.addClass,o.height,Array.prototype.some,Array.prototype.map;var d,u,c,p,m,f,h,k,y="",g={left:!0,right:!0,top:!0,bottom:!0};function v(e){e.target;p=o.size(c),f&&f(e)}function x(e){m={},g.left||g.right?m.width=p.width+e.deltaX:m.width=p.width,g.top||g.bottom?m.height=p.height+e.deltaY:m.height=p.height,o.size(c,m),o.pageRect(d,o.pageRect(c)),h&&h(e)}function b(e){k&&k(e)}function w(){return w}return e.mixin(w,{init:function(e){y=(e=e||{}).classPrefix||"";var r=e.appendTo||document.body;for(var o in d=t.createElement("div",{class:y+"resizer-c"}),t.append(r,d),u={},["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(e){return u[e]=t.createElement("i",{class:y+"resizer-h "+y+"resizer-h-"+e,"data-resize-handler":e})}),u){var n=u[o];t.append(d,n),l(n,{auto:!1,started:v,moving:x,stopped:b})}},select:function(e,t){if(e&&e===c)return;c=e,startDim=rectDim=startPos=null,o.pageRect(d,o.pageRect(c)),i.show(d)},unselect:function(e){d&&i.hide(d);c=null}}),s.Selectable=w}),e("skylark-domx-plugins-interact/main",["./interact","./Movable","./Resizable","./Selectable"],function(e){return e}),e("skylark-domx-plugins-interact",["skylark-domx-plugins-interact/main"],function(e){return e})}(r),!o){var a=require("skylark-langx-ns");n?module.exports=a:t.skylarkjs=a}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-domx-plugins-interact.js.map
