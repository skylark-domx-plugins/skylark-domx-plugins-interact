/**
 * skylark-domx-plugins-interact - The interact features enhancement for dom.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(e,t){var o=t.define,require=t.require,r="function"==typeof o&&o.amd,n=!r&&"undefined"!=typeof exports;if(!r&&!o){var a={};o=t.define=function(e,t,o){"function"==typeof o?(a[e]={factory:o,deps:t.map(function(t){return function(e,t){if("."!==e[0])return e;var o=t.split("/"),r=e.split("/");o.pop();for(var n=0;n<r.length;n++)"."!=r[n]&&(".."==r[n]?o.pop():o.push(r[n]));return o.join("/")}(t,e)}),resolved:!1,exports:null},require(e)):a[e]={factory:null,resolved:!0,exports:o}},require=t.require=function(e){if(!a.hasOwnProperty(e))throw new Error("Module "+e+" has not been defined");var module=a[e];if(!module.resolved){var o=[];module.deps.forEach(function(e){o.push(require(e))}),module.exports=module.factory.apply(t,o)||null,module.resolved=!0}return module.exports}}if(!o)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(e,require){e("skylark-domx-plugins-interact/polyfill",[],function(){}),e("skylark-domx-plugins-interact/interact",["skylark-langx/skylark","./polyfill"],function(e){return e.attach("domx.plugins.interact",{})}),e("skylark-domx-plugins-interact/movable",["skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-plugins","./interact"],function(e,t,o,r,n,a,i,s){n.on,n.off,o.attr,o.removeAttr,r.pagePosition,a.addClass,r.height,Array.prototype.some,Array.prototype.map;var l=i.Plugin.inherit({klassName:"Movable",pluginName:"lark.movable",_construct:function(o,i){function s(e){var t,o;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<t.length;o++)e[t[o]]=e.changedTouches[0][t[o]]}function l(e){e.movable=p,e.moveEl=o,e.handleEl=f}this.overrided(o,i);var d,c,u,m,p=this,f=(i=this.options).handle||o,h=!1!==i.auto,g=i.constraints,k=i.document||document,v=i.starting,y=i.started,b=i.moving,x=i.stopped,z=function(e){if(s(e),l(e),0!==e.button)return X(e);if(e.deltaX=e.screenX-c,e.deltaY=e.screenY-u,h){var t=m.left+e.deltaX,n=m.top+e.deltaY;g&&(t<g.minX&&(t=g.minX),t>g.maxX&&(t=g.maxX),n<g.minY&&(n=g.minY),n>g.maxY&&(n=g.maxY))}r.relativePosition(o,{left:t,top:n}),e.preventDefault(),b&&b(e)},X=function(e){s(e),n.off(k,"mousemove touchmove",z).off(k,"mouseup touchend",X),t.remove(d),x&&x(e)};n.on(f,"mousedown touchstart",function(i){var p,h=r.getDocumentSize(k);if(s(i),l(i),v){var Y=v(i);if(!1===Y)return;e.isPlainObject(Y)&&(Y.constraints&&(g=Y.constraints),Y.started&&(y=Y.started),Y.moving&&(b=Y.moving),Y.stopped&&(x=Y.stopped))}i.preventDefault(),i.button,c=i.screenX,u=i.screenY,m=r.relativePosition(o),r.size(o),p=a.css(f,"cursor"),d=t.createElement("div"),a.css(d,{position:"absolute",top:0,left:0,width:h.width,height:h.height,zIndex:2147483647,opacity:1e-4,cursor:p}),t.append(k.body,d),n.on(k,"mousemove touchmove",z).on(k,"mouseup touchend",X),y&&y(i)}),this._handleEl=f},remove:function(){n.off(this._handleEl)}});return i.register(l,"movable"),s.Movable=l}),e("skylark-domx-plugins-interact/Movable",["skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-plugins","./interact"],function(e,t,o,r,n,a,i,s){n.on,n.off,o.attr,o.removeAttr,r.pagePosition,a.addClass,r.height,Array.prototype.some,Array.prototype.map;var l=i.Plugin.inherit({klassName:"Movable",pluginName:"lark.movable",_construct:function(o,i){function s(e){var t,o;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<t.length;o++)e[t[o]]=e.changedTouches[0][t[o]]}function l(e){e.movable=p,e.moveEl=o,e.handleEl=f}this.overrided(o,i);var d,c,u,m,p=this,f=(i=this.options).handle||o,h=!1!==i.auto,g=i.constraints,k=i.document||document,v=i.starting,y=i.started,b=i.moving,x=i.stopped,z=function(e){if(s(e),l(e),0!==e.button)return X(e);if(e.deltaX=e.screenX-c,e.deltaY=e.screenY-u,h){var t=m.left+e.deltaX,n=m.top+e.deltaY;g&&(t<g.minX&&(t=g.minX),t>g.maxX&&(t=g.maxX),n<g.minY&&(n=g.minY),n>g.maxY&&(n=g.maxY))}r.relativePosition(o,{left:t,top:n}),e.preventDefault(),b&&b(e)},X=function(e){s(e),n.off(k,"mousemove touchmove",z).off(k,"mouseup touchend",X),t.remove(d),x&&x(e)};n.on(f,"mousedown touchstart",function(i){var p,h=r.getDocumentSize(k);if(s(i),l(i),v){var Y=v(i);if(!1===Y)return;e.isPlainObject(Y)&&(Y.constraints&&(g=Y.constraints),Y.started&&(y=Y.started),Y.moving&&(b=Y.moving),Y.stopped&&(x=Y.stopped))}i.preventDefault(),i.button,c=i.screenX,u=i.screenY,m=r.relativePosition(o),r.size(o),p=a.css(f,"cursor"),d=t.createElement("div"),a.css(d,{position:"absolute",top:0,left:0,width:h.width,height:h.height,zIndex:2147483647,opacity:1e-4,cursor:p}),t.append(k.body,d),n.on(k,"mousemove touchmove",z).on(k,"mouseup touchend",X),y&&y(i)}),this._handleEl=f},remove:function(){n.off(this._handleEl)}});return i.register(l,"movable"),s.Movable=l}),e("skylark-domx-plugins-interact/resizable",["skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-finder","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-query","skylark-domx-plugins","./interact","./Movable"],function(e,t,o,r,n,a,i,s,l,d,c){a.on,a.off,o.attr,o.removeAttr,n.pagePosition,i.addClass,n.height,Array.prototype.some,Array.prototype.map;var u=l.Plugin.inherit({klassName:"Resizable",pluginName:"lark.resizable",options:{touchActionNone:!0,handle:{border:{directions:{top:!0,left:!0,right:!0,bottom:!0,topLeft:!0,topRight:!0,bottomLeft:!0,bottomRight:!0},classes:{all:"resizable-handle",top:"resizable-handle-n",left:"resizable-handle-w",right:"resizable-handle-e",bottom:"resizable-handle-s",topLeft:"resizable-handle-nw",topRight:"resizable-handle-ne",bottomLeft:"resizable-handle-sw",bottomRight:"resizable-handle-se"}},grabber:{selector:"",direction:"bottomRight"},selector:!0},constraints:{minWidth:null,minHeight:null}},_construct:function(o,a){this.overrided(o,a);var i=(a=this.options).handle||{},s=(a.direction,a.started),l=a.moving,d=a.stopped;function u(e,t,r,a){let i;c(e,{auto:!1,started:function(e){i=n.relativeRect(o),s&&s(e)},moving:function(e){currentRect={},"right"!=t&&"topRight"!=t&&"bottomRight"!=t||(currentRect.width=i.width+e.deltaX),"bottom"!=t&&"bottomLeft"!=t&&"bottomRight"!=t||(currentRect.height=i.height+e.deltaY),"left"!=t&&"topLeft"!=t&&"bottomLeft"!=t||(currentRect.left=i.left+e.deltaX,currentRect.width=i.width-e.deltaX),"top"!=t&&"topLeft"!=t&&"topRight"!=t||(currentRect.top=i.top+e.deltaY,currentRect.height=i.height-e.deltaY),n.relativeRect(o,currentRect),l&&l(e)},stopped:function(e){d&&d(e)}})}if(e.isString(i)?r.find(o,i):e.isHtmlNode(i)&&i,i&&i.border){for(var m in i.border.directions)if(i.border.directions[m]){let e=t.createElement("div",{className:i.border.classes.all+" "+i.border.classes[m],direction:m},o);u(e,m)}}if(i&&i.grabber&&i.grabber.selector){let e=r.find(o,i.grabber.selector);u(e,i.grabber.direction)}},remove:function(){a.off(this._handleEl)}});return l.register(u,"resizable"),d.Resizable=u}),e("skylark-domx-plugins-interact/selectable",["skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-query","./interact","./Movable"],function(e,t,o,r,n,a,i,s,l){n.on,n.off,o.attr,o.removeAttr,r.pagePosition,a.addClass,r.height,Array.prototype.some,Array.prototype.map;var d,c,u,m,p,f,h,g,k="",v={left:!0,right:!0,top:!0,bottom:!0};function y(e){e.target;m=r.size(u),f&&f(e)}function b(e){p={},v.left||v.right?p.width=m.width+e.deltaX:p.width=m.width,v.top||v.bottom?p.height=m.height+e.deltaY:p.height=m.height,r.size(u,p),r.pageRect(d,r.pageRect(u)),h&&h(e)}function x(e){g&&g(e)}function z(){return z}return e.mixin(z,{init:function(e){k=(e=e||{}).classPrefix||"";var o=e.appendTo||document.body;for(var r in d=t.createElement("div",{class:k+"resizer-c"}),t.append(o,d),c={},["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(e){return c[e]=t.createElement("i",{class:k+"resizer-h "+k+"resizer-h-"+e,"data-resize-handler":e})}),c){var n=c[r];t.append(d,n),l(n,{auto:!1,started:y,moving:b,stopped:x})}},select:function(e,t){if(e&&e===u)return;u=e,startDim=rectDim=startPos=null,r.pageRect(d,r.pageRect(u)),a.show(d)},unselect:function(e){d&&a.hide(d);u=null}}),s.Selectable=z}),e("skylark-domx-plugins-interact/main",["./interact","./movable","./resizable","./selectable"],function(e){return e}),e("skylark-domx-plugins-interact",["skylark-domx-plugins-interact/main"],function(e){return e})}(o),!r){var i=require("skylark-langx-ns");n?module.exports=i:t.skylarkjs=i}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-domx-plugins-interact.js.map
